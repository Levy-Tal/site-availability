"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4340],{6483:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"authentication/oidc-setup","title":"OIDC Authentication Setup","description":"This guide walks you through setting up OpenID Connect (OIDC) authentication for Site Availability with popular identity providers.","source":"@site/docs/authentication/oidc-setup.md","sourceDirName":"authentication","slug":"/authentication/oidc-setup","permalink":"/site-availability/docs/authentication/oidc-setup","draft":false,"unlisted":false,"editUrl":"https://github.com/Levy-Tal/site-availability/tree/main/docs/docs/authentication/oidc-setup.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Local Admin Authentication","permalink":"/site-availability/docs/authentication/local-admin"},"next":{"title":"Development Setup","permalink":"/site-availability/docs/development/setup"}}');var l=i(4848),r=i(8453);const t={},c="OIDC Authentication Setup",o={},a=[{value:"Overview",id:"overview",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Step 1: Identity Provider Configuration",id:"step-1-identity-provider-configuration",level:2},{value:"Keycloak Setup",id:"keycloak-setup",level:3},{value:"Azure AD Setup",id:"azure-ad-setup",level:3},{value:"Auth0 Setup",id:"auth0-setup",level:3},{value:"Step 2: Application Configuration",id:"step-2-application-configuration",level:2},{value:"Configuration File",id:"configuration-file",level:3},{value:"Credentials File",id:"credentials-file",level:3},{value:"Step 3: Role Design",id:"step-3-role-design",level:2},{value:"Example 1: Team-Based Access",id:"example-1-team-based-access",level:3},{value:"Example 2: Environment-Based Access",id:"example-2-environment-based-access",level:3},{value:"Example 3: Regional Access",id:"example-3-regional-access",level:3},{value:"Step 4: Testing",id:"step-4-testing",level:2},{value:"Test Configuration",id:"test-configuration",level:3},{value:"Verification",id:"verification",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Common Issues",id:"common-issues",level:3},{value:"1. &quot;OIDC provider unavailable&quot;",id:"1-oidc-provider-unavailable",level:4},{value:"2. &quot;Invalid redirect URI&quot;",id:"2-invalid-redirect-uri",level:4},{value:"3. &quot;Failed to extract username&quot;",id:"3-failed-to-extract-username",level:4},{value:"4. &quot;No groups found&quot;",id:"4-no-groups-found",level:4},{value:"Debugging",id:"debugging",level:3},{value:"Security Checklist",id:"security-checklist",level:3},{value:"Migration from Local Auth",id:"migration-from-local-auth",level:2},{value:"Production Considerations",id:"production-considerations",level:2},{value:"High Availability",id:"high-availability",level:3},{value:"Security",id:"security",level:3},{value:"Performance",id:"performance",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"oidc-authentication-setup",children:"OIDC Authentication Setup"})}),"\n",(0,l.jsx)(n.p,{children:"This guide walks you through setting up OpenID Connect (OIDC) authentication for Site Availability with popular identity providers."}),"\n",(0,l.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,l.jsx)(n.p,{children:"Site Availability supports OIDC authentication, which allows you to:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Integrate with enterprise identity providers"}),"\n",(0,l.jsx)(n.li,{children:"Implement role-based access control using existing groups"}),"\n",(0,l.jsx)(n.li,{children:"Provide single sign-on (SSO) experience"}),"\n",(0,l.jsx)(n.li,{children:"Maintain security with industry-standard protocols"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Identity provider that supports OpenID Connect"}),"\n",(0,l.jsx)(n.li,{children:"Admin access to configure the identity provider"}),"\n",(0,l.jsx)(n.li,{children:"Understanding of your organization's group structure"}),"\n",(0,l.jsx)(n.li,{children:"SSL/TLS enabled for production deployments"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"step-1-identity-provider-configuration",children:"Step 1: Identity Provider Configuration"}),"\n",(0,l.jsx)(n.h3,{id:"keycloak-setup",children:"Keycloak Setup"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Create a new client"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Client ID: ",(0,l.jsx)(n.code,{children:"site-availability"})]}),"\n",(0,l.jsxs)(n.li,{children:["Client Protocol: ",(0,l.jsx)(n.code,{children:"openid-connect"})]}),"\n",(0,l.jsxs)(n.li,{children:["Access Type: ",(0,l.jsx)(n.code,{children:"confidential"})]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Configure redirect URIs"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"http://localhost:8080/auth/oidc/callback  # Development\nhttps://your-domain.com/auth/oidc/callback  # Production\n"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Note"}),": The callback URL is automatically constructed as ",(0,l.jsx)(n.code,{children:"{host_url}/auth/oidc/callback"})," where ",(0,l.jsx)(n.code,{children:"host_url"})," is the value you configure in your ",(0,l.jsx)(n.code,{children:"server_settings.host_url"})," field."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Enable required scopes"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Go to Client Scopes"}),"\n",(0,l.jsxs)(n.li,{children:["Add ",(0,l.jsx)(n.code,{children:"groups"})," scope to default client scopes"]}),"\n",(0,l.jsxs)(n.li,{children:["Ensure ",(0,l.jsx)(n.code,{children:"profile"})," and ",(0,l.jsx)(n.code,{children:"email"})," scopes are included"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Configure group mapper"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Create a new mapper"}),"\n",(0,l.jsxs)(n.li,{children:["Type: ",(0,l.jsx)(n.code,{children:"Group Membership"})]}),"\n",(0,l.jsxs)(n.li,{children:["Token Claim Name: ",(0,l.jsx)(n.code,{children:"groups"})]}),"\n",(0,l.jsxs)(n.li,{children:["Full group path: ",(0,l.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"azure-ad-setup",children:"Azure AD Setup"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Register application"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Go to Azure AD > App registrations"}),"\n",(0,l.jsx)(n.li,{children:"New registration"}),"\n",(0,l.jsxs)(n.li,{children:["Name: ",(0,l.jsx)(n.code,{children:"Site Availability"})]}),"\n",(0,l.jsxs)(n.li,{children:["Redirect URI: ",(0,l.jsx)(n.code,{children:"https://your-domain.com/auth/oidc/callback"})]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Note"}),": The callback URL is automatically constructed as ",(0,l.jsx)(n.code,{children:"{host_url}/auth/oidc/callback"})," where ",(0,l.jsx)(n.code,{children:"host_url"})," is the value you configure in your ",(0,l.jsx)(n.code,{children:"server_settings.host_url"})," field."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Configure authentication"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Platform: Web"}),"\n",(0,l.jsx)(n.li,{children:"Implicit grant tokens: ID tokens"}),"\n",(0,l.jsx)(n.li,{children:"Allow public client flows: No"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"API permissions"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Add ",(0,l.jsx)(n.code,{children:"openid"}),", ",(0,l.jsx)(n.code,{children:"profile"}),", ",(0,l.jsx)(n.code,{children:"email"})]}),"\n",(0,l.jsxs)(n.li,{children:["Add ",(0,l.jsx)(n.code,{children:"GroupMember.Read.All"})," (for group claims)"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Create client secret"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Go to Certificates & secrets"}),"\n",(0,l.jsx)(n.li,{children:"New client secret"}),"\n",(0,l.jsx)(n.li,{children:"Copy the secret value"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"auth0-setup",children:"Auth0 Setup"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Create application"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Type: Regular Web Application"}),"\n",(0,l.jsx)(n.li,{children:"Name: Site Availability"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Configure settings"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Allowed Callback URLs: ",(0,l.jsx)(n.code,{children:"https://your-domain.com/auth/oidc/callback"})]}),"\n",(0,l.jsxs)(n.li,{children:["Allowed Web Origins: ",(0,l.jsx)(n.code,{children:"https://your-domain.com"})]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Note"}),": The callback URL is automatically constructed as ",(0,l.jsx)(n.code,{children:"{host_url}/auth/oidc/callback"})," where ",(0,l.jsx)(n.code,{children:"host_url"})," is the value you configure in your ",(0,l.jsx)(n.code,{children:"server_settings.host_url"})," field."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Enable groups claim"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Go to Rules or Actions"}),"\n",(0,l.jsx)(n.li,{children:"Add groups to ID token:"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:"function (user, context, callback) {\n  context.idToken.groups = user.groups;\n  callback(null, user, context);\n}\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"step-2-application-configuration",children:"Step 2: Application Configuration"}),"\n",(0,l.jsx)(n.h3,{id:"configuration-file",children:"Configuration File"}),"\n",(0,l.jsxs)(n.p,{children:["Create or update your ",(0,l.jsx)(n.code,{children:"config.yaml"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'server_settings:\n  port: "8080"\n  host_url: "https://your-domain.com"  # Required: Used for OIDC callback URLs\n  session_timeout: 12h\n\n  # Define application roles\n  roles:\n    viewer:\n      env: production\n    developer:\n      team: frontend\n      team: backend\n    ops:\n      team: devops\n    admin: {} # Full access\n\n  # OIDC Configuration\n  oidc:\n    enabled: true\n    config:\n      name: "Your Company SSO"\n      issuer: "https://your-provider.com/realms/master"  # Keycloak\n      # issuer: "https://login.microsoftonline.com/{tenant}/v2.0"  # Azure AD\n      # issuer: "https://your-domain.auth0.com/"  # Auth0\n      clientID: "site-availability"\n      groupScope: "groups"\n      userNameScope: "preferred_username"  # or "email" for Azure AD\n    permissions:\n      users:\n        # Direct user mappings\n        admin@company.com:\n          - admin\n      groups:\n        # Group-based mappings\n        developers:\n          - developer\n        operations:\n          - ops\n        executives:\n          - viewer\n'})}),"\n",(0,l.jsx)(n.h3,{id:"credentials-file",children:"Credentials File"}),"\n",(0,l.jsxs)(n.p,{children:["Create ",(0,l.jsx)(n.code,{children:"credentials.yaml"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'server_settings:\n  oidc:\n    config:\n      clientSecret: "your-client-secret-here"\n\n  # Optional: Local admin fallback\n  local_admin:\n    password: "secure-fallback-password"\n'})}),"\n",(0,l.jsx)(n.h2,{id:"step-3-role-design",children:"Step 3: Role Design"}),"\n",(0,l.jsx)(n.p,{children:"Design your roles based on your labeling strategy:"}),"\n",(0,l.jsx)(n.h3,{id:"example-1-team-based-access",children:"Example 1: Team-Based Access"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"roles:\n  frontend-team:\n    team: frontend\n  backend-team:\n    team: backend\n  devops-team:\n    team: devops\n  qa-team:\n    env: staging\n    env: testing\n"})}),"\n",(0,l.jsx)(n.h3,{id:"example-2-environment-based-access",children:"Example 2: Environment-Based Access"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"roles:\n  prod-access:\n    env: production\n  staging-access:\n    env: staging\n  dev-access:\n    env: development\n"})}),"\n",(0,l.jsx)(n.h3,{id:"example-3-regional-access",children:"Example 3: Regional Access"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"roles:\n  us-team:\n    region: us-east\n    region: us-west\n  eu-team:\n    region: eu-west\n    region: eu-central\n"})}),"\n",(0,l.jsx)(n.h2,{id:"step-4-testing",children:"Step 4: Testing"}),"\n",(0,l.jsx)(n.h3,{id:"test-configuration",children:"Test Configuration"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Start the application"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"./site-availability\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Check authentication status"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"curl http://localhost:8080/auth/config\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Test OIDC login"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Navigate to ",(0,l.jsx)(n.code,{children:"http://localhost:8080"})]}),"\n",(0,l.jsx)(n.li,{children:'Click "Login with Your Company SSO"'}),"\n",(0,l.jsx)(n.li,{children:"Complete authentication flow"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"verification",children:"Verification"}),"\n",(0,l.jsx)(n.p,{children:"Verify that:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u2705 Users can log in via OIDC"}),"\n",(0,l.jsx)(n.li,{children:"\u2705 Groups are correctly mapped to roles"}),"\n",(0,l.jsx)(n.li,{children:"\u2705 API responses are filtered based on user roles"}),"\n",(0,l.jsx)(n.li,{children:"\u2705 Fallback to local admin works when OIDC is down"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,l.jsx)(n.h3,{id:"common-issues",children:"Common Issues"}),"\n",(0,l.jsx)(n.h4,{id:"1-oidc-provider-unavailable",children:'1. "OIDC provider unavailable"'}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Symptoms"}),": Warning message on login page, OIDC button disabled"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Check issuer URL is accessible"}),"\n",(0,l.jsx)(n.li,{children:"Verify network connectivity"}),"\n",(0,l.jsx)(n.li,{children:"Check firewall rules"}),"\n",(0,l.jsx)(n.li,{children:"Use local admin fallback"}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"2-invalid-redirect-uri",children:'2. "Invalid redirect URI"'}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Symptoms"}),": Error after clicking OIDC login button"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Verify redirect URI in provider configuration"}),"\n",(0,l.jsx)(n.li,{children:"Check for HTTP vs HTTPS mismatch"}),"\n",(0,l.jsx)(n.li,{children:"Ensure trailing slashes match"}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"3-failed-to-extract-username",children:'3. "Failed to extract username"'}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Symptoms"}),": Login fails after successful OIDC authentication"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Check ",(0,l.jsx)(n.code,{children:"userNameScope"})," configuration"]}),"\n",(0,l.jsx)(n.li,{children:"Verify claim is present in ID token"}),"\n",(0,l.jsxs)(n.li,{children:["Try alternative scopes: ",(0,l.jsx)(n.code,{children:"email"}),", ",(0,l.jsx)(n.code,{children:"name"}),", ",(0,l.jsx)(n.code,{children:"sub"})]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"4-no-groups-found",children:'4. "No groups found"'}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Symptoms"}),": User authenticated but has no permissions"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Verify ",(0,l.jsx)(n.code,{children:"groupScope"})," configuration"]}),"\n",(0,l.jsx)(n.li,{children:"Check group claim in ID token"}),"\n",(0,l.jsx)(n.li,{children:"Ensure group membership in identity provider"}),"\n",(0,l.jsx)(n.li,{children:"Add user-specific role mapping"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"debugging",children:"Debugging"}),"\n",(0,l.jsx)(n.p,{children:"Enable detailed logging:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"# Add to config.yaml for debugging\nlogging:\n  level: debug\n"})}),"\n",(0,l.jsx)(n.p,{children:"Check logs for:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"OIDC provider initialization"}),"\n",(0,l.jsx)(n.li,{children:"Token validation errors"}),"\n",(0,l.jsx)(n.li,{children:"Group/role mapping results"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"security-checklist",children:"Security Checklist"}),"\n",(0,l.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," Use HTTPS in production"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," Secure client secret storage"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," Regular secret rotation"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," Validate redirect URIs"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," Monitor authentication logs"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," Test fallback mechanisms"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," Review role permissions regularly"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"migration-from-local-auth",children:"Migration from Local Auth"}),"\n",(0,l.jsx)(n.p,{children:"If migrating from local authentication:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Keep local admin enabled during transition"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"server_settings:\n  local_admin:\n    enabled: true\n  oidc:\n    enabled: true\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Test OIDC with limited users first"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Gradually migrate user permissions"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Disable local admin once OIDC is stable"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"server_settings:\n  local_admin:\n    enabled: false # Disable after successful migration\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"production-considerations",children:"Production Considerations"}),"\n",(0,l.jsx)(n.h3,{id:"high-availability",children:"High Availability"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Configure multiple OIDC providers if supported"}),"\n",(0,l.jsx)(n.li,{children:"Monitor provider health"}),"\n",(0,l.jsx)(n.li,{children:"Keep local admin as emergency access"}),"\n",(0,l.jsx)(n.li,{children:"Implement proper backup procedures"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"security",children:"Security"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Use short session timeouts for sensitive environments"}),"\n",(0,l.jsx)(n.li,{children:"Implement proper HTTPS with valid certificates"}),"\n",(0,l.jsx)(n.li,{children:"Regular security audits of role assignments"}),"\n",(0,l.jsx)(n.li,{children:"Monitor for unauthorized access attempts"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"performance",children:"Performance"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"OIDC adds minimal overhead to authentication"}),"\n",(0,l.jsx)(n.li,{children:"Authorization filtering is efficient"}),"\n",(0,l.jsx)(n.li,{children:"Monitor session creation/cleanup"}),"\n",(0,l.jsx)(n.li,{children:"Consider caching for large deployments"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>c});var s=i(6540);const l={},r=s.createContext(l);function t(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);