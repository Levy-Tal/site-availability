"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3688],{2524:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"usage/configuration/sources/http","title":"HTTP Source Configuration","description":"The HTTP source monitors websites and HTTP endpoints by making HTTP requests and determining if an app is up or down based on the response status code (and optionally, content validation).","source":"@site/docs/usage/configuration/sources/http.md","sourceDirName":"usage/configuration/sources","slug":"/usage/configuration/sources/http","permalink":"/site-availability/docs/usage/configuration/sources/http","draft":false,"unlisted":false,"editUrl":"https://github.com/Levy-Tal/site-availability/tree/main/docs/docs/usage/configuration/sources/http.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Prometheus Source Configuration","permalink":"/site-availability/docs/usage/configuration/sources/prometheus"},"next":{"title":"Terminology","permalink":"/site-availability/docs/usage/terminology"}}');var s=t(4848),o=t(8453);const a={},r="HTTP Source Configuration",c={},l=[{value:"How It Works",id:"how-it-works",level:2},{value:"Minimal Example",id:"minimal-example",level:2},{value:"Source Configuration Options",id:"source-configuration-options",level:2},{value:"App Configuration Options",id:"app-configuration-options",level:2},{value:"Content Validation",id:"content-validation",level:2},{value:"Authentication",id:"authentication",level:2},{value:"Status Code Ranges",id:"status-code-ranges",level:2},{value:"Best Practices",id:"best-practices",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"http-source-configuration",children:"HTTP Source Configuration"})}),"\n",(0,s.jsxs)(n.p,{children:["The HTTP source monitors websites and HTTP endpoints by making HTTP requests and determining if an app is ",(0,s.jsx)(n.strong,{children:"up"})," or ",(0,s.jsx)(n.strong,{children:"down"})," based on the response status code (and optionally, content validation)."]}),"\n",(0,s.jsx)(n.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"For each configured app, the HTTP source sends an HTTP request to the specified URL."}),"\n",(0,s.jsxs)(n.li,{children:["If the response status code matches ",(0,s.jsx)(n.code,{children:"allowed_status_codes"})," (default: 2XX), the app is considered ",(0,s.jsx)(n.strong,{children:"up"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["If the status code matches ",(0,s.jsx)(n.code,{children:"blocked_status_codes"})," (default: 4XX, 5XX), or content validation fails, the app is ",(0,s.jsx)(n.strong,{children:"down"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"minimal-example",children:"Minimal Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'sources:\n  - name: web-monitoring\n    type: http\n    config:\n      apps:\n        - name: website\n          location: "US-East"\n          url: "https://example.com"\n'})}),"\n",(0,s.jsx)(n.h2,{id:"source-configuration-options",children:"Source Configuration Options"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"name"}),": Unique name for the source (required)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"type"}),": Must be ",(0,s.jsx)(n.code,{children:"http"})," (required)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"labels"}),": Optional labels for all apps in this source"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"config.apps"}),": List of app configurations (see below)"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"app-configuration-options",children:"App Configuration Options"}),"\n",(0,s.jsxs)(n.p,{children:["Each app under ",(0,s.jsx)(n.code,{children:"apps"})," supports the following options:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'apps:\n  - name: "website" # Required: Unique app name\n    location: "US-East" # Required: Must match a defined location\n    url: "https://example.com" # Required: URL to monitor\n    method: "GET" # Optional: HTTP method (GET, POST, etc). Default: GET\n    headers: {} # Optional: Custom HTTP headers\n    body: "" # Optional: Request body for POST/PUT\n    content_type: "" # Optional: Content-Type header\n    timeout: "" # Optional: Request timeout (e.g., 10s). Default: global scraping timeout\n    follow_redirects: true # Optional: Follow HTTP redirects. Default: true\n    max_redirects: 10 # Optional: Max redirects to follow. Default: 10\n    ssl_verify: true # Optional: Verify SSL certificates. Default: true\n    allowed_status_codes: ["2XX"] # Optional: Status codes considered up. Default: ["2XX"]\n    blocked_status_codes: ["4XX", "5XX"] # Optional: Status codes considered down. Default: ["4XX", "5XX"]\n    validation: # Optional: Content validation rules\n      success: [] # List of success conditions\n      failure: [] # List of failure conditions\n    auth: # Optional: Authentication settings\n      type: "basic" # "basic", "bearer", "digest", "oauth2"\n      username: "user" # For basic/digest\n      password: "pass" # For basic/digest\n      token: "token" # For bearer/oauth2\n    labels: {} # Optional: App-specific labels\n'})}),"\n",(0,s.jsx)(n.h2,{id:"content-validation",children:"Content Validation"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Use the ",(0,s.jsx)(n.code,{children:"validation"})," section to define rules for checking response content, status code, or response time."]}),"\n",(0,s.jsxs)(n.li,{children:["Supported types: ",(0,s.jsx)(n.code,{children:"body_contains"}),", ",(0,s.jsx)(n.code,{children:"body_not_contains"}),", ",(0,s.jsx)(n.code,{children:"status_code"}),", ",(0,s.jsx)(n.code,{children:"response_time"}),", ",(0,s.jsx)(n.code,{children:"json_path"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"authentication",children:"Authentication"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Configure authentication under ",(0,s.jsx)(n.code,{children:"auth"})," (supports ",(0,s.jsx)(n.code,{children:"basic"}),", ",(0,s.jsx)(n.code,{children:"bearer"}),", ",(0,s.jsx)(n.code,{children:"digest"}),", ",(0,s.jsx)(n.code,{children:"oauth2"}),")."]}),"\n",(0,s.jsxs)(n.li,{children:["For sensitive credentials, use ",(0,s.jsx)(n.code,{children:"credentials.yaml"})," with the same structure as your main config."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"status-code-ranges",children:"Status Code Ranges"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Use exact codes (e.g., ",(0,s.jsx)(n.code,{children:"200"}),") or ranges (e.g., ",(0,s.jsx)(n.code,{children:'"2XX"'}),", ",(0,s.jsx)(n.code,{children:'"5XX"'}),")."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Set timeouts to avoid hanging requests."}),"\n",(0,s.jsx)(n.li,{children:"Keep SSL verification enabled in production."}),"\n",(0,s.jsx)(n.li,{children:"Use content validation for critical endpoints."}),"\n",(0,s.jsxs)(n.li,{children:["Store credentials in ",(0,s.jsx)(n.code,{children:"credentials.yaml"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.p,{children:"For more details on validation and authentication, see the comments in your configuration files or the codebase."})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>r});var i=t(6540);const s={},o=i.createContext(s);function a(e){const n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);