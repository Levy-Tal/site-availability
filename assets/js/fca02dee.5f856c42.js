"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7297],{3044:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"usage/installation/helm-chart","title":"Production Deployment with Helm","description":"This guide shows how to deploy Site Availability Monitoring in production using the official Helm chart, with real configuration examples.","source":"@site/docs/usage/installation/helm-chart.md","sourceDirName":"usage/installation","slug":"/usage/installation/helm-chart","permalink":"/site-availability/docs/usage/installation/helm-chart","draft":false,"unlisted":false,"editUrl":"https://github.com/Levy-Tal/site-availability/tree/main/docs/docs/usage/installation/helm-chart.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Production Deployment with Docker Compose","permalink":"/site-availability/docs/usage/installation/docker-compose"},"next":{"title":"Quick Start","permalink":"/site-availability/docs/usage/quickstart"}}');var t=i(4848),l=i(8453);const s={sidebar_position:4},r="Production Deployment with Helm",o={},c=[{value:"Minimal Production Install",id:"minimal-production-install",level:2},{value:"Example values.yaml",id:"example-valuesyaml",level:2},{value:"Scaling and High Availability",id:"scaling-and-high-availability",level:2},{value:"Security Best Practices",id:"security-best-practices",level:2},{value:"Monitoring",id:"monitoring",level:2},{value:"Upgrade and Rollback",id:"upgrade-and-rollback",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"production-deployment-with-helm",children:"Production Deployment with Helm"})}),"\n",(0,t.jsx)(n.p,{children:"This guide shows how to deploy Site Availability Monitoring in production using the official Helm chart, with real configuration examples."}),"\n",(0,t.jsx)(n.h2,{id:"minimal-production-install",children:"Minimal Production Install"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"helm repo add site-availability https://levytal.github.io/site-availability/\nhelm install site-availability site-availability/site-availability \\\n  --set image.tag=2.4.0 \\\n  --set replicaCount=3\n"})}),"\n",(0,t.jsx)(n.h2,{id:"example-valuesyaml",children:"Example values.yaml"}),"\n",(0,t.jsx)(n.p,{children:"Below is a minimal, production-ready values.yaml using real defaults from the chart:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'replicaCount: 3\n\nimage:\n  repository: levytal/site-availability\n  tag: "2.4.0"\n  pullPolicy: Always\n\nconfigFile:\n  enabled: true\n  content:\n    server_settings:\n      port: "8080"\n      host_url: "https://your-domain.com" # Required: Used for OIDC callback URLs\n      sync_enable: false\n    scraping:\n      interval: "10s"\n      timeout: "5s"\n      max_parallel: 10\n    documentation:\n      title: "DR documentation"\n      url: "https://google.com"\n    locations:\n      - name: "Houston"\n        latitude: 29.7604\n        longitude: -95.3698\n      - name: "New York"\n        latitude: 40.7128\n        longitude: -74.0060\n      - name: "Los Angeles"\n        latitude: 34.0522\n        longitude: -118.2437\n    sources:\n      - name: "prometheus-main"\n        type: "prometheus"\n        url: "http://prometheus-operated:9090"\n        apps:\n          - name: "app1"\n            location: "Houston"\n            metric: \'up{job="site-availability"}\'\n          - name: "app2"\n            location: "New York"\n            metric: \'up{container="alertmanager"}\'\n          - name: "app3"\n            location: "Los Angeles"\n            metric: \'up{container="alertmanager"}\'\n'})}),"\n",(0,t.jsx)(n.h2,{id:"scaling-and-high-availability",children:"Scaling and High Availability"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"replicaCount"}),": Set to 2+ for high availability."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"resources"}),": Adjust CPU/memory as needed for your workload."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"service.type"}),": Use ",(0,t.jsx)(n.code,{children:"ClusterIP"})," for internal, or ",(0,t.jsx)(n.code,{children:"LoadBalancer"})," for external access."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"security-best-practices",children:"Security Best Practices"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Use HTTPS"})," via Ingress."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Set resource limits"})," to prevent noisy neighbor issues."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Store credentials in Kubernetes secrets"})," and reference them via ",(0,t.jsx)(n.code,{children:"credentials.credentialsSecretName"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"monitoring",children:"Monitoring"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"ServiceMonitor"})," and ",(0,t.jsx)(n.strong,{children:"PrometheusRules"})," are enabled by default for Prometheus integration."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Grafana dashboards"})," are included in the chart."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"upgrade-and-rollback",children:"Upgrade and Rollback"}),"\n",(0,t.jsx)(n.p,{children:"Upgrade:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"helm upgrade site-availability site-availability/site-availability -f values.yaml\n"})}),"\n",(0,t.jsx)(n.p,{children:"Rollback:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"helm rollback site-availability 1\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.p,{children:["For more advanced configuration, see the comments in ",(0,t.jsx)(n.code,{children:"chart/values.yaml"})," and the Helm chart documentation."]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>r});var a=i(6540);const t={},l=a.createContext(t);function s(e){const n=a.useContext(l);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),a.createElement(l.Provider,{value:n},e.children)}}}]);