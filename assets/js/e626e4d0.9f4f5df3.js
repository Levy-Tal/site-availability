"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1821],{3997:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"development/setup","title":"Development Setup","description":"Set up your local development environment for contributing to Site Availability Monitoring.","source":"@site/docs/development/setup.md","sourceDirName":"development","slug":"/development/setup","permalink":"/site-availability/docs/development/setup","draft":false,"unlisted":false,"editUrl":"https://github.com/Levy-Tal/site-availability/tree/main/docs/docs/development/setup.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"OIDC Authentication Setup","permalink":"/site-availability/docs/authentication/oidc-setup"},"next":{"title":"Architecture Overview","permalink":"/site-availability/docs/development/architecture"}}');var i=s(4848),t=s(8453);const o={sidebar_position:1},r="Development Setup",d={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Required Software",id:"required-software",level:3},{value:"Recommended Tools",id:"recommended-tools",level:3},{value:"Repository Setup",id:"repository-setup",level:2},{value:"Clone the Repository",id:"clone-the-repository",level:3},{value:"Install Dependencies",id:"install-dependencies",level:3},{value:"Environment Setup",id:"environment-setup",level:3},{value:"Backend Development",id:"backend-development",level:2},{value:"Setup",id:"setup",level:3},{value:"Configuration",id:"configuration",level:3},{value:"Running the Backend+Frontend",id:"running-the-backendfrontend",level:3},{value:"Testing",id:"testing",level:3},{value:"Development Workflow",id:"development-workflow",level:2},{value:"Making Changes",id:"making-changes",level:3},{value:"Using Docker for Development",id:"using-docker-for-development",level:3},{value:"API Testing",id:"api-testing",level:3},{value:"Pre-commit Hooks",id:"pre-commit-hooks",level:3},{value:"Debugging",id:"debugging",level:2},{value:"Backend Debugging",id:"backend-debugging",level:3},{value:"Documentation",id:"documentation",level:2},{value:"Common Issues",id:"common-issues",level:2},{value:"Go Module Issues",id:"go-module-issues",level:3},{value:"Node.js Issues",id:"nodejs-issues",level:3},{value:"Port Conflicts",id:"port-conflicts",level:3},{value:"Next Steps",id:"next-steps",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"development-setup",children:"Development Setup"})}),"\n",(0,i.jsx)(n.p,{children:"Set up your local development environment for contributing to Site Availability Monitoring."}),"\n",(0,i.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsx)(n.h3,{id:"required-software",children:"Required Software"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Go"})," (v1.24): ",(0,i.jsx)(n.a,{href:"https://golang.org/dl/",children:"Download"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Node.js"})," (v18): ",(0,i.jsx)(n.a,{href:"https://nodejs.org/",children:"Download"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Git"}),": ",(0,i.jsx)(n.a,{href:"https://git-scm.com/book/en/v2/Getting-Started-Installing-Git",children:"Installation guide"})]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"recommended-tools",children:"Recommended Tools"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Docker"}),": For containerized development"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"VS Code"}),": With Go and React extensions"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Make"}),": For build automation"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"curl/httpie"}),": For API testing"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"repository-setup",children:"Repository Setup"}),"\n",(0,i.jsx)(n.h3,{id:"clone-the-repository",children:"Clone the Repository"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/Levy-Tal/site-availability.git\ncd site-availability\n"})}),"\n",(0,i.jsx)(n.h3,{id:"install-dependencies",children:"Install Dependencies"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Install all dependencies (frontend, backend, docs)\nmake install\n"})}),"\n",(0,i.jsx)(n.h3,{id:"environment-setup",children:"Environment Setup"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Set up Go workspace\nexport GOPATH=$HOME/go\nexport PATH=$PATH:$GOPATH/bin\n\n# Install Go tools\ngo install golang.org/x/tools/cmd/goimports@latest\ngo install github.com/golangci/golangci-lint/cmd/golangci-lint@latest\n"})}),"\n",(0,i.jsx)(n.h2,{id:"backend-development",children:"Backend Development"}),"\n",(0,i.jsx)(n.h3,{id:"setup",children:"Setup"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd backend\n\n# Download dependencies\ngo mod download\n\n# Verify setup\ngo version\ngo mod verify\n"})}),"\n",(0,i.jsx)(n.h3,{id:"configuration",children:"Configuration"}),"\n",(0,i.jsx)(n.p,{children:"Create a development config file:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cp ../helpers/config/single-server.yaml config.yaml\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Edit ",(0,i.jsx)(n.code,{children:"config.yaml"})," for your environment:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'scrape_interval: 10s\nlog_level: debug\nport: 8080\n\nlocations:\n  - name: Development\n    latitude: 40.712776\n    longitude: -74.005974\n\napps:\n  - name: test-app\n    location: Development\n    metric: up{instance="localhost:9090", job="prometheus"}\n    prometheus: http://localhost:9090/\n'})}),"\n",(0,i.jsx)(n.h3,{id:"running-the-backendfrontend",children:"Running the Backend+Frontend"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Build and run the server locally\nmake build\n"})}),"\n",(0,i.jsx)(n.p,{children:"This command will:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Build the frontend"}),"\n",(0,i.jsx)(n.li,{children:"Copy the frontend build to the backend static directory"}),"\n",(0,i.jsx)(n.li,{children:"Start the backend server with the built frontend"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"testing",children:"Testing"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Run all tests\nmake test\n\n\n"})}),"\n",(0,i.jsx)(n.h2,{id:"development-workflow",children:"Development Workflow"}),"\n",(0,i.jsx)(n.h3,{id:"making-changes",children:"Making Changes"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Create a feature branch"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"git checkout -b feature/your-feature-name\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Make your changes"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Backend changes in ",(0,i.jsx)(n.code,{children:"backend/"})]}),"\n",(0,i.jsxs)(n.li,{children:["Frontend changes in ",(0,i.jsx)(n.code,{children:"frontend/"})]}),"\n",(0,i.jsxs)(n.li,{children:["Documentation in ",(0,i.jsx)(n.code,{children:"docs/"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Test your changes"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Run all tests\nmake test\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Run pre-commit hooks"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"make pre-commit\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Commit changes"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'git add .\ngit commit -m "feat: add new feature"\n'})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"using-docker-for-development",children:"Using Docker for Development"}),"\n",(0,i.jsx)(n.p,{children:"Start the complete stack:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Run using Docker Compose\nmake run\n\n# Stop containers\nmake down\n"})}),"\n",(0,i.jsx)(n.p,{children:"This provides:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Backend at ",(0,i.jsx)(n.a,{href:"http://localhost:8080",children:"http://localhost:8080"})]}),"\n",(0,i.jsxs)(n.li,{children:["Frontend at ",(0,i.jsx)(n.a,{href:"http://localhost:3000",children:"http://localhost:3000"})]}),"\n",(0,i.jsxs)(n.li,{children:["Prometheus at ",(0,i.jsx)(n.a,{href:"http://localhost:9090",children:"http://localhost:9090"})]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"api-testing",children:"API Testing"}),"\n",(0,i.jsx)(n.p,{children:"Test the backend API:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Health check\ncurl http://localhost:8080/health\n\n# Get applications\ncurl http://localhost:8080/api/apps | jq\n\n# Get locations\ncurl http://localhost:8080/api/locations | jq\n\n# Metrics endpoint\ncurl http://localhost:8080/metrics\n"})}),"\n",(0,i.jsx)(n.h3,{id:"pre-commit-hooks",children:"Pre-commit Hooks"}),"\n",(0,i.jsx)(n.p,{children:"Install pre-commit hooks:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Run pre-commit hooks\nmake pre-commit\n"})}),"\n",(0,i.jsx)(n.h2,{id:"debugging",children:"Debugging"}),"\n",(0,i.jsx)(n.h3,{id:"backend-debugging",children:"Backend Debugging"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Run with debug logging\nLOG_LEVEL=debug make build\n\n"})}),"\n",(0,i.jsx)(n.h2,{id:"documentation",children:"Documentation"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Run docs website locally\nmake docs\n"})}),"\n",(0,i.jsx)(n.h2,{id:"common-issues",children:"Common Issues"}),"\n",(0,i.jsx)(n.h3,{id:"go-module-issues",children:"Go Module Issues"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Clear module cache\ngo clean -modcache\n\n# Update dependencies\ngo mod tidy\ngo mod download\n"})}),"\n",(0,i.jsx)(n.h3,{id:"nodejs-issues",children:"Node.js Issues"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Clear npm cache\nnpm cache clean --force\n\n# Delete node_modules and reinstall\nrm -rf node_modules package-lock.json\nnpm install\n"})}),"\n",(0,i.jsx)(n.h3,{id:"port-conflicts",children:"Port Conflicts"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Check what's using port 8080\nlsof -i :8080\n\n# Kill process if needed\nkill -9 <PID>\n"})}),"\n",(0,i.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Read the ",(0,i.jsx)(n.a,{href:"./architecture",children:"Architecture Guide"})]}),"\n",(0,i.jsxs)(n.li,{children:["Learn about ",(0,i.jsx)(n.a,{href:"./contributing",children:"Contributing Guidelines"})]}),"\n",(0,i.jsxs)(n.li,{children:["Explore ",(0,i.jsx)(n.a,{href:"./testing",children:"Testing Strategies"})]}),"\n",(0,i.jsxs)(n.li,{children:["Check out ",(0,i.jsx)(n.a,{href:"../api/overview",children:"API Documentation"})]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>r});var l=s(6540);const i={},t=l.createContext(i);function o(e){const n=l.useContext(t);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),l.createElement(t.Provider,{value:n},e.children)}}}]);