"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9463],{8453:(n,i,e)=>{e.d(i,{R:()=>a,x:()=>s});var t=e(6540);const o={},r=t.createContext(o);function a(n){const i=t.useContext(r);return t.useMemo(function(){return"function"==typeof n?n(i):{...i,...n}},[i,n])}function s(n){let i;return i=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:a(n.components),t.createElement(r.Provider,{value:i},n.children)}},9025:(n,i,e)=>{e.r(i),e.d(i,{assets:()=>l,contentTitle:()=>s,default:()=>u,frontMatter:()=>a,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"configuration/overview","title":"Configuration Overview","description":"Site Availability is highly configurable to suit different environments and monitoring needs. This section covers all configuration options and best practices.","source":"@site/docs/configuration/overview.md","sourceDirName":"configuration","slug":"/configuration/overview","permalink":"/site-availability/docs/configuration/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/Levy-Tal/site-availability/tree/main/docs/docs/configuration/overview.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Docker Setup","permalink":"/site-availability/docs/getting-started/docker"},"next":{"title":"Backend Configuration","permalink":"/site-availability/docs/configuration/backend"}}');var o=e(4848),r=e(8453);const a={sidebar_position:1},s="Configuration Overview",l={},c=[{value:"Configuration Architecture",id:"configuration-architecture",level:2},{value:"Configuration File Structure",id:"configuration-file-structure",level:2},{value:"Configuration Locations",id:"configuration-locations",level:2},{value:"Environment Variables",id:"environment-variables",level:2},{value:"Configuration Validation",id:"configuration-validation",level:2},{value:"Configuration Examples",id:"configuration-examples",level:2},{value:"Minimal Configuration",id:"minimal-configuration",level:3},{value:"Multi-Location Configuration",id:"multi-location-configuration",level:3},{value:"Production Configuration with Authentication",id:"production-configuration-with-authentication",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Security",id:"security",level:3},{value:"Performance",id:"performance",level:3},{value:"Monitoring",id:"monitoring",level:3},{value:"Maintenance",id:"maintenance",level:3},{value:"Configuration Sections",id:"configuration-sections",level:2},{value:"Troubleshooting Configuration",id:"troubleshooting-configuration",level:2},{value:"Configuration Not Loading",id:"configuration-not-loading",level:3},{value:"Invalid Configuration Errors",id:"invalid-configuration-errors",level:3},{value:"Next Steps",id:"next-steps",level:2}];function d(n){const i={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.header,{children:(0,o.jsx)(i.h1,{id:"configuration-overview",children:"Configuration Overview"})}),"\n",(0,o.jsx)(i.p,{children:"Site Availability is highly configurable to suit different environments and monitoring needs. This section covers all configuration options and best practices."}),"\n",(0,o.jsx)(i.h2,{id:"configuration-architecture",children:"Configuration Architecture"}),"\n",(0,o.jsx)(i.p,{children:"The application uses a hierarchical configuration system:"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"YAML Configuration Files"})," - Primary configuration method"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Environment Variables"})," - Override specific settings"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Command Line Arguments"})," - Runtime overrides"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Default Values"})," - Fallback configuration"]}),"\n"]}),"\n",(0,o.jsx)(i.h2,{id:"configuration-file-structure",children:"Configuration File Structure"}),"\n",(0,o.jsx)(i.p,{children:"The main configuration file follows this structure:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-yaml",children:'# Global settings\nscrape_interval: 30s\nlog_level: info\nport: 8080\n\n# Geographic locations for monitoring\nlocations:\n  - name: "Location Name"\n    latitude: 40.712776\n    longitude: -74.005974\n\n# Applications to monitor\napps:\n  - name: "app-name"\n    location: "Location Name"\n    metric: \'up{instance="app:8080", job="app"}\'\n    prometheus: "http://prometheus:9090/"\n\n# Authentication settings\nauthentication:\n  hmac:\n    enabled: true\n    secret: "your-secret-key"\n\n# Custom CA certificates\ncertificates:\n  custom_ca_path: "/path/to/ca-certificates"\n'})}),"\n",(0,o.jsx)(i.h2,{id:"configuration-locations",children:"Configuration Locations"}),"\n",(0,o.jsx)(i.p,{children:"Configuration files are loaded in the following order (later files override earlier ones):"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"/etc/site-availability/config.yaml"})," (system-wide)"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"~/.site-availability/config.yaml"})," (user-specific)"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.code,{children:"./config.yaml"})," (current directory)"]}),"\n",(0,o.jsxs)(i.li,{children:["File specified by ",(0,o.jsx)(i.code,{children:"CONFIG_FILE"})," environment variable"]}),"\n",(0,o.jsxs)(i.li,{children:["File specified by ",(0,o.jsx)(i.code,{children:"--config"})," command line argument"]}),"\n"]}),"\n",(0,o.jsx)(i.h2,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,o.jsxs)(i.p,{children:["All configuration options can be overridden using environment variables with the ",(0,o.jsx)(i.code,{children:"SA_"})," prefix:"]}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-bash",children:"# Basic settings\nSA_PORT=8080\nSA_LOG_LEVEL=debug\nSA_SCRAPE_INTERVAL=60s\n\n# Authentication\nSA_AUTHENTICATION_HMAC_ENABLED=true\nSA_AUTHENTICATION_HMAC_SECRET=your-secret\n\n# Custom CA certificates\nSA_CERTIFICATES_CUSTOM_CA_PATH=/app/certs\n"})}),"\n",(0,o.jsx)(i.h2,{id:"configuration-validation",children:"Configuration Validation"}),"\n",(0,o.jsx)(i.p,{children:"The application validates configuration on startup and will fail to start with invalid configuration. Common validation rules:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Locations"}),": Must have valid latitude/longitude coordinates"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Apps"}),": Must reference existing locations"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Prometheus URLs"}),": Must be valid HTTP/HTTPS URLs"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Scrape Interval"}),': Must be a valid duration (e.g., "30s", "1m", "5m")']}),"\n"]}),"\n",(0,o.jsx)(i.h2,{id:"configuration-examples",children:"Configuration Examples"}),"\n",(0,o.jsx)(i.h3,{id:"minimal-configuration",children:"Minimal Configuration"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-yaml",children:'scrape_interval: 30s\n\nlocations:\n  - name: Primary DC\n    latitude: 40.712776\n    longitude: -74.005974\n\napps:\n  - name: web-server\n    location: Primary DC\n    metric: up{instance="web:8080"}\n    prometheus: http://prometheus:9090/\n'})}),"\n",(0,o.jsx)(i.h3,{id:"multi-location-configuration",children:"Multi-Location Configuration"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-yaml",children:'scrape_interval: 15s\nlog_level: info\n\nlocations:\n  - name: New York\n    latitude: 40.712776\n    longitude: -74.005974\n  - name: London\n    latitude: 51.507351\n    longitude: -0.127758\n  - name: Tokyo\n    latitude: 35.676676\n    longitude: 139.650027\n\napps:\n  - name: api-server-ny\n    location: New York\n    metric: up{instance="api-ny:8080", job="api"}\n    prometheus: http://prometheus-ny:9090/\n\n  - name: api-server-london\n    location: London\n    metric: up{instance="api-london:8080", job="api"}\n    prometheus: http://prometheus-london:9090/\n\n  - name: api-server-tokyo\n    location: Tokyo\n    metric: up{instance="api-tokyo:8080", job="api"}\n    prometheus: http://prometheus-tokyo:9090/\n'})}),"\n",(0,o.jsx)(i.h3,{id:"production-configuration-with-authentication",children:"Production Configuration with Authentication"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-yaml",children:'scrape_interval: 30s\nlog_level: warn\nport: 8080\n\n# Security settings\nauthentication:\n  hmac:\n    enabled: true\n    secret: ${SA_HMAC_SECRET}\n\n# Custom certificates\ncertificates:\n  custom_ca_path: /app/certs\n\nlocations:\n  - name: Production East\n    latitude: 39.0458\n    longitude: -76.6413\n  - name: Production West\n    latitude: 37.7749\n    longitude: -122.4194\n\napps:\n  - name: frontend\n    location: Production East\n    metric: up{instance="frontend:443", job="frontend"}\n    prometheus: https://prometheus-east.internal:9090/\n\n  - name: backend-api\n    location: Production East\n    metric: up{instance="backend:8080", job="backend"}\n    prometheus: https://prometheus-east.internal:9090/\n\n  - name: database\n    location: Production West\n    metric: up{instance="postgres:5432", job="postgres"}\n    prometheus: https://prometheus-west.internal:9090/\n'})}),"\n",(0,o.jsx)(i.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,o.jsx)(i.h3,{id:"security",children:"Security"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Use environment variables for secrets"}),"\n",(0,o.jsx)(i.li,{children:"Enable HMAC authentication in production"}),"\n",(0,o.jsx)(i.li,{children:"Use HTTPS for Prometheus connections"}),"\n",(0,o.jsx)(i.li,{children:"Regularly rotate authentication secrets"}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"performance",children:"Performance"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Set appropriate scrape intervals (15-60 seconds)"}),"\n",(0,o.jsx)(i.li,{children:"Monitor only essential applications"}),"\n",(0,o.jsx)(i.li,{children:"Use Prometheus federation for large deployments"}),"\n",(0,o.jsx)(i.li,{children:"Configure appropriate timeouts"}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"monitoring",children:"Monitoring"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Start with a few critical applications"}),"\n",(0,o.jsx)(i.li,{children:"Add geographic diversity gradually"}),"\n",(0,o.jsx)(i.li,{children:"Use descriptive names for locations and apps"}),"\n",(0,o.jsx)(i.li,{children:"Document your monitoring strategy"}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"maintenance",children:"Maintenance"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Version control your configuration files"}),"\n",(0,o.jsx)(i.li,{children:"Use configuration templates for environments"}),"\n",(0,o.jsx)(i.li,{children:"Validate configuration in CI/CD pipelines"}),"\n",(0,o.jsx)(i.li,{children:"Monitor configuration changes"}),"\n"]}),"\n",(0,o.jsx)(i.h2,{id:"configuration-sections",children:"Configuration Sections"}),"\n",(0,o.jsx)(i.p,{children:"Learn more about specific configuration areas:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:(0,o.jsx)(i.a,{href:"./backend",children:"Backend Configuration"})})," - Server settings and behavior"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:(0,o.jsx)(i.a,{href:"./frontend",children:"Frontend Configuration"})})," - UI customization and features"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:(0,o.jsx)(i.a,{href:"./prometheus",children:"Prometheus Configuration"})})," - Metrics and scraping setup"]}),"\n"]}),"\n",(0,o.jsx)(i.h2,{id:"troubleshooting-configuration",children:"Troubleshooting Configuration"}),"\n",(0,o.jsx)(i.h3,{id:"configuration-not-loading",children:"Configuration Not Loading"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-bash",children:"# Check file permissions\nls -la config.yaml\n\n# Validate YAML syntax\nyaml-lint config.yaml\n\n# Check environment variables\nenv | grep SA_\n"})}),"\n",(0,o.jsx)(i.h3,{id:"invalid-configuration-errors",children:"Invalid Configuration Errors"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-bash",children:"# Run with debug logging\nSA_LOG_LEVEL=debug ./site-availability\n\n# Validate configuration manually\n./site-availability --validate-config\n"})}),"\n",(0,o.jsxs)(i.p,{children:["For more troubleshooting help, see our ",(0,o.jsx)(i.a,{href:"../troubleshooting",children:"Troubleshooting Guide"}),"."]}),"\n",(0,o.jsx)(i.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["Configure the ",(0,o.jsx)(i.a,{href:"./backend",children:"Backend"})," settings"]}),"\n",(0,o.jsxs)(i.li,{children:["Set up ",(0,o.jsx)(i.a,{href:"./frontend",children:"Frontend"})," customization"]}),"\n",(0,o.jsxs)(i.li,{children:["Configure ",(0,o.jsx)(i.a,{href:"./prometheus",children:"Prometheus"})," integration"]}),"\n"]})]})}function u(n={}){const{wrapper:i}={...(0,r.R)(),...n.components};return i?(0,o.jsx)(i,{...n,children:(0,o.jsx)(d,{...n})}):d(n)}}}]);