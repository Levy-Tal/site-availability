"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8559],{1596:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"api/overview","title":"API Overview","description":"The Site Availability API provides RESTful endpoints for monitoring applications, locations, and system health.","source":"@site/docs/api/overview.md","sourceDirName":"api","slug":"/api/overview","permalink":"/site-availability/docs/api/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/Levy-Tal/site-availability/tree/main/docs/docs/api/overview.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Contributing Guide","permalink":"/site-availability/docs/development/contributing"},"next":{"title":"API Endpoints","permalink":"/site-availability/docs/api/endpoints"}}');var t=n(4848),r=n(8453);const l={sidebar_position:1},o="API Overview",a={},d=[{value:"Main Endpoints",id:"main-endpoints",level:2},{value:"Authentication",id:"authentication",level:2},{value:"Filtering",id:"filtering",level:2},{value:"Error Handling",id:"error-handling",level:2}];function c(e){const i={code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.header,{children:(0,t.jsx)(i.h1,{id:"api-overview",children:"API Overview"})}),"\n",(0,t.jsx)(i.p,{children:"The Site Availability API provides RESTful endpoints for monitoring applications, locations, and system health."}),"\n",(0,t.jsx)(i.h2,{id:"main-endpoints",children:"Main Endpoints"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"GET  /api/apps"})," \u2014 List all monitored applications and their status. Supports filtering by query parameters (e.g., ",(0,t.jsx)(i.code,{children:"?location=NY&status=up"}),")."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"GET  /api/locations"})," \u2014 List all configured locations with their status."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"GET  /api/labels"})," \u2014 List all available label keys or values."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"GET  /api/scrape-interval"})," \u2014 Get the current scraping interval in milliseconds."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"GET  /api/docs"})," \u2014 Get documentation metadata (title, URL)."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"GET  /metrics"})," \u2014 Prometheus metrics for monitoring."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"GET  /healthz"})," \u2014 Liveness probe."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"GET  /readyz"})," \u2014 Readiness probe."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"GET  /sync"})," \u2014 (If enabled) Export all app statuses and locations for federation (protected by HMAC)."]}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"authentication",children:"Authentication"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["The ",(0,t.jsx)(i.code,{children:"/sync"})," endpoint is protected by HMAC authentication if enabled in the config."]}),"\n",(0,t.jsx)(i.li,{children:"All other endpoints are open by default."}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"filtering",children:"Filtering"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["Most endpoints support filtering by query parameters, including system fields (e.g., ",(0,t.jsx)(i.code,{children:"location"}),", ",(0,t.jsx)(i.code,{children:"status"}),") and labels (e.g., ",(0,t.jsx)(i.code,{children:"labels.env=prod"}),")."]}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Standard HTTP status codes are used."}),"\n",(0,t.jsxs)(i.li,{children:["Error responses are JSON with an ",(0,t.jsx)(i.code,{children:"error"})," field."]}),"\n"]}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsxs)(i.p,{children:["For more details, see the code in ",(0,t.jsx)(i.code,{children:"backend/handlers/"})," and ",(0,t.jsx)(i.code,{children:"backend/server/"}),"."]})]})}function h(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453:(e,i,n)=>{n.d(i,{R:()=>l,x:()=>o});var s=n(6540);const t={},r=s.createContext(t);function l(e){const i=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),s.createElement(r.Provider,{value:i},e.children)}}}]);